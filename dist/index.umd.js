!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("xmldom")):"function"==typeof define&&define.amd?define(["exports","xmldom"],t):t((e||self).htmlToJsonParser={},e.xmldom)}(this,function(e,t){var r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];e.HTMLToJSON=function(e,r){void 0===r&&(r=!1);try{return Promise.resolve(new Promise(function(n,o){try{var i,a={};if("string"==typeof e){var s=(new t.DOMParser).parseFromString(e,"text/xml");s.firstChild&&(i=s.firstChild)}else i=e;!function e(t,r){void 0===r&&(r=a),r.type=t.nodeName;var n=t.childNodes;if(null!==n&&n.length){r.content=[];for(var o=0;o<n.length;o++)3===n[o].nodeType?n[o].nodeValue&&r.content.push(n[o].nodeValue):(r.content.push({}),e(n[o],r.content[r.content.length-1]))}if(null!==t.attributes&&t.attributes.length){r.attributes={};for(var i=0;i<t.attributes.length;i++)r.attributes[t.attributes[i].nodeName]=t.attributes[i].nodeValue}}(i),n(r?JSON.stringify(a):a)}catch(e){o(e)}}))}catch(e){return Promise.reject(e)}},e.JSONToHTML=function(e,n){void 0===n&&(n=!0);try{return Promise.resolve(new Promise(function(o,i){try{var a=e;"string"==typeof e&&(a=JSON.parse(e));var s=function e(t){var n="<"+t.type;return t.attributes&&Object.entries(t.attributes).forEach(function(e){n+=" "+e[0]+'="'+e[1]+'"'}),n+=">",t.content&&t.content.forEach(function(t){n+="string"==typeof t?t:e(t)}),r.includes(t.type)||(n+="</"+t.type+">"),n}(a);o(n?s:(new t.DOMParser).parseFromString(s,"text/xml"))}catch(e){i(e)}}))}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
